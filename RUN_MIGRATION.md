# –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–∏ –º–µ–Ω—é –∏–∑ Google Sheets

## –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

1. ‚úÖ SQL –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ (—Ç–∞–±–ª–∏—Ü–∞ menu –∏–º–µ–µ—Ç –Ω–æ–≤—ã–µ –∫–æ–ª–æ–Ω–∫–∏)
2. ‚è≥ Google Sheets –∑–∞–ø–æ–ª–Ω–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏
3. ‚è≥ Service Account –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ —Ç–∞–±–ª–∏—Ü–µ

---

## –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ Google Sheets

### –ü—Ä–æ–≤–µ—Ä—å—Ç–µ .env —Ñ–∞–π–ª

```bash
cd /Users/bari/Documents/GitHub/hifoodv1
cat .env | grep GOOGLE
```

–í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
```
GOOGLE_SERVICE_ACCOUNT_EMAIL=your-service-account@project.iam.gserviceaccount.com
GOOGLE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
GOOGLE_SHEET_ID=18MgwzpNpnNt9H0LeIjxnXZYbEmkefrHLwHIHnMCgeho
```

### –î–∞–π—Ç–µ –¥–æ—Å—Ç—É–ø Service Account

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à—É Google —Ç–∞–±–ª–∏—Ü—É:
   https://docs.google.com/spreadsheets/d/18MgwzpNpnNt9H0LeIjxnXZYbEmkefrHLwHIHnMCgeho/edit

2. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **Share** (–ü–æ–¥–µ–ª–∏—Ç—å—Å—è)

3. –î–æ–±–∞–≤—å—Ç–µ email –∏–∑ `GOOGLE_SERVICE_ACCOUNT_EMAIL` —Å –ø—Ä–∞–≤–∞–º–∏ **Viewer** (–ß–∏—Ç–∞—Ç–µ–ª—å)

---

## –®–∞–≥ 2: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ Google Sheets

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–∞—à–∞ —Ç–∞–±–ª–∏—Ü–∞ –∏–º–µ–µ—Ç –ª–∏—Å—Ç **"menu"** —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –∫–æ–ª–æ–Ω–∫–∞–º–∏ (A-N):

| A | B | C | D | E | F | G | H | I | J | K | L | M | N |
|---|---|---|---|---|---|---|---|---|---|---|---|---|---|
| category | sub_category | sub_category_en | sub_category_sr | title | title_en | title_sr | description | description_en | description_sr | price | image | weight | calories |

**–í–∞–∂–Ω–æ:**
- –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ (–Ω–∞–∑–≤–∞–Ω–∏—è –∫–æ–ª–æ–Ω–æ–∫)
- –î–∞–Ω–Ω—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å–æ –≤—Ç–æ—Ä–æ–π —Å—Ç—Ä–æ–∫–∏

### –ü—Ä–∏–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö:

```
–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞,–ü–∞—Å—Ç–∞,Pasta,–ü–∞—Å—Ç–∞,–ö–∞—Ä–±–æ–Ω–∞—Ä–∞,Carbonara,–ö–∞—Ä–±–æ–Ω–∞—Ä–∞,–ü–∞—Å—Ç–∞ —Å –±–µ–∫–æ–Ω–æ–º –∏ —Å–ª–∏–≤–æ—á–Ω—ã–º —Å–æ—É—Å–æ–º,Pasta with bacon and cream sauce,–ü–∞—Å—Ç–∞ —Å–∞ —Å–ª–∞–Ω–∏–Ω–æ–º –∏ –ø–∞–≤–ª–∞–∫–æ–º,890,https://images.unsplash.com/photo-1612874742237-6526221588e3?w=500,350–≥,650
–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞,–ü–∞—Å—Ç–∞,Pasta,–ü–∞—Å—Ç–∞,–ë–æ–ª–æ–Ω—å–µ–∑–µ,Bolognese,–ë–æ–ª–æ—ö–µ–∑–µ,–ü–∞—Å—Ç–∞ —Å –º—è—Å–Ω—ã–º —Å–æ—É—Å–æ–º,Pasta with meat sauce,–ü–∞—Å—Ç–∞ —Å–∞ –º–µ—Å–Ω–∏–º —Å–æ—Å–æ–º,950,https://images.unsplash.com/photo-1598866594230-a7c12756260f?w=500,400–≥,720
–°—É–ø—ã,–ì–æ—Ä—è—á–∏–µ —Å—É–ø—ã,Hot Soups,–¢–æ–ø–ª–µ —Å—É–ø–µ,–ë–æ—Ä—â,Borscht,–ë–æ—Ä—à,–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–Ω—ã–π —É–∫—Ä–∞–∏–Ω—Å–∫–∏–π —Å—É–ø,Traditional Ukrainian soup,–¢—Ä–∞–¥–∏—Ü–∏–æ–Ω–∞–ª–Ω–∞ —É–∫—Ä–∞—ò–∏–Ω—Å–∫–∞ —Å—É–ø–∞,450,https://images.unsplash.com/photo-1604908176997-125f25cc6f3d?w=500,300–º–ª,180
```

---

## –®–∞–≥ 3: –ó–∞–ø—É—Å–∫ –º–∏–≥—Ä–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ npm script (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
cd /Users/bari/Documents/GitHub/hifoodv1/backend
npm run migrate:menu
```

–ï—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞, –¥–æ–±–∞–≤—å—Ç–µ –≤ `backend/package.json`:

```json
{
  "scripts": {
    "migrate:menu": "ts-node migrate-menu-from-sheets.ts"
  }
}
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ù–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ ts-node

```bash
cd /Users/bari/Documents/GitHub/hifoodv1/backend
npx ts-node migrate-menu-from-sheets.ts
```

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ö–æ–º–ø–∏–ª—è—Ü–∏—è –∏ –∑–∞–ø—É—Å–∫

```bash
cd /Users/bari/Documents/GitHub/hifoodv1/backend
npm run build
node dist/migrate-menu-from-sheets.js
```

---

## –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥

–ï—Å–ª–∏ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ, –≤—ã —É–≤–∏–¥–∏—Ç–µ:

```
üöÄ –ù–∞—á–∏–Ω–∞–µ–º –º–∏–≥—Ä–∞—Ü–∏—é –º–µ–Ω—é –∏–∑ Google Sheets –≤ Supabase...

üìñ –ß–∏—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏–∑ Google Sheets (–ª–∏—Å—Ç "menu")...
üìã –ó–∞–≥–æ–ª–æ–≤–∫–∏: category, sub_category, sub_category_en, sub_category_sr, title, title_en, title_sr, description, description_en, description_sr, price, image, weight, calories
‚úÖ –ü—Ä–æ—á–∏—Ç–∞–Ω–æ 25 –ø–æ–∑–∏—Ü–∏–π –∏–∑ Google Sheets

üçï –ü–µ—Ä–≤—ã–µ 3 –ø–æ–∑–∏—Ü–∏–∏ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
   - –ö–∞—Ä–±–æ–Ω–∞—Ä–∞ (–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞) - 890 RSD
   - –ë–æ–ª–æ–Ω—å–µ–∑–µ (–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞) - 950 RSD
   - –ë–æ—Ä—â (–°—É–ø—ã) - 450 RSD

üóëÔ∏è  –û—á–∏—â–∞–µ–º —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—é –≤ Supabase...
‚úÖ –°—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ —É–¥–∞–ª–µ–Ω—ã

üì§ –ó–∞–≥—Ä—É–∂–∞–µ–º –º–µ–Ω—é –≤ Supabase...
‚úÖ –£—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω–æ 25 –±–ª—é–¥ –≤ Supabase!

üìã –í—Å–µ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –±–ª—é–¥–∞:
1. –ö–∞—Ä–±–æ–Ω–∞—Ä–∞ (–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞) - 890 RSD - —Ä–µ–π—Ç–∏–Ω–≥: 4.5
2. –ë–æ–ª–æ–Ω—å–µ–∑–µ (–û—Å–Ω–æ–≤–Ω—ã–µ –±–ª—é–¥–∞) - 950 RSD - —Ä–µ–π—Ç–∏–Ω–≥: 4.5
3. –ë–æ—Ä—â (–°—É–ø—ã) - 450 RSD - —Ä–µ–π—Ç–∏–Ω–≥: 4.5
...

üéâ –ú–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!

üìä –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –û—Ç–∫—Ä–æ–π—Ç–µ Supabase Table Editor: https://supabase.com/dashboard/project/ydhyiqnzlzvswqucmboq/editor
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–∞–±–ª–∏—Ü—É menu - —Ç–∞–º –≤—Å–µ –≤–∞—à–∏ –±–ª—é–¥–∞
3. –û—Ç–∫—Ä–æ–π—Ç–µ Mini App –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –º–µ–Ω—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è
```

---

## –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ –∏ —Ä–µ—à–µ–Ω–∏—è

### –û—à–∏–±–∫–∞: "403 Forbidden"

**–ü—Ä–∏—á–∏–Ω–∞:** Service Account –Ω–µ –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ —Ç–∞–±–ª–∏—Ü–µ

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Google Sheets
2. Share ‚Üí –¥–æ–±–∞–≤—å—Ç–µ email –∏–∑ `GOOGLE_SERVICE_ACCOUNT_EMAIL`
3. –ü—Ä–∞–≤–∞: **Viewer**

### –û—à–∏–±–∫–∞: "–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö –≤ –ª–∏—Å—Ç–µ menu"

**–ü—Ä–∏—á–∏–Ω–∞:** –õ–∏—Å—Ç –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–æ-–¥—Ä—É–≥–æ–º—É –∏–ª–∏ –ø—É—Å—Ç–æ–π

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞ (–¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ç–æ—á–Ω–æ "menu")
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –¥–∞–Ω–Ω—ã–µ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–∏ (–∑–∞–≥–æ–ª–æ–≤–∫–∏)

### –û—à–∏–±–∫–∞: "Cannot read property 'title' of undefined"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –≤—Å–µ –∫–æ–ª–æ–Ω–∫–∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
- –ú–∏–Ω–∏–º—É–º –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω—ã: `category`, `title` (–∏–ª–∏ `title_en`/`title_sr`), `price`
- –ü—É—Å—Ç—ã–µ —è—á–µ–π–∫–∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –∫–∞–∫ –º–∏–Ω–∏–º—É–º –ø—Ä–æ–±–µ–ª–æ–º

### –û—à–∏–±–∫–∞: "GOOGLE_SERVICE_ACCOUNT_EMAIL –Ω–µ –Ω–∞–π–¥–µ–Ω"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
```bash
cd /Users/bari/Documents/GitHub/hifoodv1
cat .env  # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

cd backend
cat ../.env  # –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å –∫ .env
```

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ –≤ Supabase

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –≤ SQL Editor:

```sql
-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø–∏—Å–µ–π
SELECT COUNT(*) as total_items FROM menu;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö
SELECT
    category,
    sub_category,
    title,
    price,
    weight,
    calories
FROM menu
ORDER BY category, sub_category
LIMIT 10;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π
SELECT DISTINCT category FROM menu ORDER BY category;

-- –ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π
SELECT DISTINCT sub_category FROM menu WHERE sub_category IS NOT NULL ORDER BY sub_category;
```

---

## –ß—Ç–æ –¥–∞–ª—å—à–µ?

–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç–µ frontend: `npm run dev`
2. ‚úÖ –û—Ç–∫—Ä–æ–π—Ç–µ Mini App –≤ –±—Ä–∞—É–∑–µ—Ä–µ –∏–ª–∏ —á–µ—Ä–µ–∑ Telegram
3. ‚úÖ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç—Ä–µ—Ö—É—Ä–æ–≤–Ω–µ–≤–æ–µ –º–µ–Ω—é:
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è
   - –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –≤—ã–±–æ—Ä–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –ö–ª–∏–∫ –Ω–∞ –±–ª—é–¥–æ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ
   - –í –º–æ–¥–∞–ª—å–Ω–æ–º –æ–∫–Ω–µ –≤–∏–¥–Ω—ã –≤–µ—Å, –∫–∞–ª–æ—Ä–∏–∏, –æ–ø–∏—Å–∞–Ω–∏–µ

---

## –ù—É–∂–Ω–∞ –ø–æ–º–æ—â—å?

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. –ü–æ–∫–∞–∂–∏—Ç–µ –≤—ã–≤–æ–¥ –∫–æ–º–∞–Ω–¥—ã –º–∏–≥—Ä–∞—Ü–∏–∏
2. –ü–æ–∫–∞–∂–∏—Ç–µ –ø–µ—Ä–≤—ã–µ 3 —Å—Ç—Ä–æ–∫–∏ –≤–∞—à–µ–π Google Sheets
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `cd backend && npm run dev`
