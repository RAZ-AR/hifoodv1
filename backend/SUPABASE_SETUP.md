# üöÄ –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è Hi Food

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü

1. –û—Ç–∫—Ä–æ–π—Ç–µ SQL Editor –≤ Supabase:
   https://supabase.com/dashboard/project/ydhyiqnzlzvswqucmboq/sql/new

2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –≤–µ—Å—å –∫–æ–¥ –∏–∑ —Ñ–∞–π–ª–∞ `supabase-setup.sql`

3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ SQL Editor –∏ –Ω–∞–∂–º–∏—Ç–µ **RUN** (–∏–ª–∏ F5)

4. –í—ã —É–≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "Success. No rows returned"

5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã:
   - –û—Ç–∫—Ä–æ–π—Ç–µ Table Editor: https://supabase.com/dashboard/project/ydhyiqnzlzvswqucmboq/editor
   - –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å 5 —Ç–∞–±–ª–∏—Ü: `users`, `menu`, `orders`, `bonus_transactions`, `ads`

## –®–∞–≥ 2: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–∏—è:

```bash
cd backend
npm run populate-supabase
```

–≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç:
- ‚úÖ 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ 15 –±–ª—é–¥ —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ –∏ –≤–µ—Å–æ–º
- ‚úÖ 4 —Ä–µ–∫–ª–∞–º–Ω—ã—Ö –±–∞–Ω–Ω–µ—Ä–∞
- ‚úÖ 1 —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–∫–∞–∑

## –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö

1. –û—Ç–∫—Ä–æ–π—Ç–µ Table Editor
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É `menu`
3. –í—ã —É–≤–∏–¥–∏—Ç–µ –≤—Å–µ –±–ª—é–¥–∞ —Å:
   - –ù–∞–∑–≤–∞–Ω–∏–µ–º
   - –¶–µ–Ω–æ–π
   - –í–µ—Å–æ–º (350–≥, 500–º–ª –∏ —Ç.–¥.)
   - URL —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
   - –ö–∞—Ç–µ–≥–æ—Ä–∏–µ–π
   - –ö–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å—é, –ë–ñ–£
   - –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç–∞–º–∏ –∏ –∞–ª–ª–µ—Ä–≥–µ–Ω–∞–º–∏

## –®–∞–≥ 4: –ó–∞–ø—É—Å–∫ backend —Å Supabase

1. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –≤ `.env` —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:
   ```
   DATA_PROVIDER=supabase
   ```

2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ backend:
   ```bash
   npm run dev
   ```

3. –í—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
   ```
   üì¶ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Data Provider: supabase
   ‚úÖ Supabase Provider –ø–æ–¥–∫–ª—é—á–µ–Ω
   ```

## üìù –ö–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –±–ª—é–¥–∞

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Table Editor (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://supabase.com/dashboard/project/ydhyiqnzlzvswqucmboq/editor
2. –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∞–±–ª–∏—Ü—É `menu`
3. –ù–∞–∂–º–∏—Ç–µ **Insert** ‚Üí **Insert row**
4. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è:
   - **category**: –ü–∏—Ü—Ü–∞, –°—É—à–∏, –ë—É—Ä–≥–µ—Ä—ã, –ù–∞–ø–∏—Ç–∫–∏
   - **name**: –ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞
   - **description**: –û–ø–∏—Å–∞–Ω–∏–µ
   - **price**: –¶–µ–Ω–∞ –≤ –¥–∏–Ω–∞—Ä–∞—Ö
   - **weight**: –ù–∞–ø—Ä–∏–º–µ—Ä "350–≥" –∏–ª–∏ "500–º–ª"
   - **image_url**: URL —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ (—Å–º. –Ω–∏–∂–µ)
   - **is_available**: true (–≥–∞–ª–æ—á–∫–∞)
   - **is_popular**: true –µ—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –ø–æ–∫–∞–∑–∞—Ç—å –≤ —Ç–æ–ø–µ
   - –û—Å—Ç–∞–ª—å–Ω–æ–µ –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
5. –ù–∞–∂–º–∏—Ç–µ **Save**

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å URL —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏:

**–°–ø–æ—Å–æ–± 1: ImgBB (–±–µ—Å–ø–ª–∞—Ç–Ω–æ, –±–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏)**
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://imgbb.com/
2. –ù–∞–∂–º–∏—Ç–µ "Start uploading"
3. –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–æ—Ç–æ –±–ª—é–¥–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ "Direct link"
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ –ø–æ–ª–µ `image_url`

**–°–ø–æ—Å–æ–± 2: Unsplash (–±–µ—Å–ø–ª–∞—Ç–Ω—ã–µ —Å—Ç–æ–∫–æ–≤—ã–µ —Ñ–æ—Ç–æ)**
1. –ù–∞–π–¥–∏—Ç–µ —Ñ–æ—Ç–æ –Ω–∞ https://unsplash.com/
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ —Ñ–æ—Ç–æ ‚Üí Download ‚Üí –ü—Ä–∞–≤–æ–π –∫–Ω–æ–ø–∫–æ–π ‚Üí Copy image address
3. –í—Å—Ç–∞–≤—å—Ç–µ –≤ –ø–æ–ª–µ `image_url`

**–°–ø–æ—Å–æ–± 3: Cloudinary (–¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://cloudinary.com/
2. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ URL

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ SQL

```sql
INSERT INTO menu (category, name, description, price, weight, image_url, is_available, is_popular)
VALUES (
  '–ü–∏—Ü—Ü–∞',
  '–ö–∞—Ä–±–æ–Ω–∞—Ä–∞',
  '–°–ª–∏–≤–æ—á–Ω—ã–π —Å–æ—É—Å, –±–µ–∫–æ–Ω, –ø–∞—Ä–º–µ–∑–∞–Ω',
  950,
  '370–≥',
  'https://i.ibb.co/xxx/carbonara.jpg',
  true,
  false
);
```

## üé® –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü—ã menu

```
id              - UUID (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
category        - TEXT (–ü–∏—Ü—Ü–∞, –°—É—à–∏, –ë—É—Ä–≥–µ—Ä—ã, –ù–∞–ø–∏—Ç–∫–∏...)
name            - TEXT (–Ω–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞)
description     - TEXT (–æ–ø–∏—Å–∞–Ω–∏–µ)
price           - DECIMAL (—Ü–µ–Ω–∞ –≤ –¥–∏–Ω–∞—Ä–∞—Ö)
weight          - TEXT (–≤–µ—Å/–æ–±—ä—ë–º: "350–≥", "500–º–ª")
image_url       - TEXT (URL —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏)
is_available    - BOOLEAN (–≤ –Ω–∞–ª–∏—á–∏–∏ –∏–ª–∏ –Ω–µ—Ç)
is_popular      - BOOLEAN (–ø–æ–ø—É–ª—è—Ä–Ω–æ–µ –±–ª—é–¥–æ)
discount_%      - INTEGER (–ø—Ä–æ—Ü–µ–Ω—Ç —Å–∫–∏–¥–∫–∏, 0-100)
allergens       - TEXT[] (–º–∞—Å—Å–∏–≤: ["–º–æ–ª–æ–∫–æ", "–≥–ª—é—Ç–µ–Ω"])
ingredients     - TEXT[] (–º–∞—Å—Å–∏–≤: ["—Ç–æ–º–∞—Ç—ã", "—Å—ã—Ä"])
calories        - INTEGER (–∫–∞–ª–æ—Ä–∏–π–Ω–æ—Å—Ç—å)
protein         - DECIMAL (–±–µ–ª–∫–∏ –≤ –≥—Ä–∞–º–º–∞—Ö)
fats            - DECIMAL (–∂–∏—Ä—ã –≤ –≥—Ä–∞–º–º–∞—Ö)
carbs           - DECIMAL (—É–≥–ª–µ–≤–æ–¥—ã –≤ –≥—Ä–∞–º–º–∞—Ö)
sort_order      - INTEGER (–ø–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏)
created_at      - TIMESTAMP (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
updated_at      - TIMESTAMP (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
```

## ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–ª—é–¥

1. –û—Ç–∫—Ä–æ–π—Ç–µ Table Editor
2. –ù–∞–π–¥–∏—Ç–µ –Ω—É–∂–Ω–æ–µ –±–ª—é–¥–æ
3. –î–≤–∞–∂–¥—ã –∫–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ —è—á–µ–π–∫—É
4. –ò–∑–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏–µ
5. –ù–∞–∂–º–∏—Ç–µ Enter –∏–ª–∏ –∫–ª–∏–∫–Ω–∏—Ç–µ –≤–Ω–µ —è—á–µ–π–∫–∏
6. –ò–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω—è—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏!

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ Supabase:
- Frontend –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –∑–∞–ø—Ä–æ—Å–µ
- –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—Ç—å backend
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã —Å—Ä–∞–∑—É!

## üìä –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- **Table Editor**: https://supabase.com/dashboard/project/ydhyiqnzlzvswqucmboq/editor
- **SQL Editor**: https://supabase.com/dashboard/project/ydhyiqnzlzvswqucmboq/sql
- **API Docs**: https://supabase.com/dashboard/project/ydhyiqnzlzvswqucmboq/api
- **ImgBB Upload**: https://imgbb.com/
- **Unsplash Photos**: https://unsplash.com/s/photos/food

## üÜò Troubleshooting

### Backend –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ Supabase

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ `.env`:
```
SUPABASE_URL=https://ydhyiqnzlzvswqucmboq.supabase.co
SUPABASE_KEY=eyJhbGc...
```

### –ù–µ –≤–∏–¥–Ω–æ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏

1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend: `npm run dev`
2. –û–±–Ω–æ–≤–∏—Ç–µ Telegram Mini App
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ `DATA_PROVIDER=supabase` –≤ `.env`

### –û—à–∏–±–∫–∞ "Row Level Security"

–£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∑–∞–ø—É—Å—Ç–∏–ª–∏ –≤—Å–µ SQL –∫–æ–º–∞–Ω–¥—ã –∏–∑ `supabase-setup.sql`
